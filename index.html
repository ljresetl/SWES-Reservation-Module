<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      SWES Reservation Module – Manage Bookings, Filter & Search, Track Overdue,
      Calendar View & Email Form
    </title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Flatpickr CSS (Bootstrap-like theme) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css"
    />

    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="bg-light border-bottom py-3 sticky-top">
      <div class="container">
        <h2 class="fw-semibold mb-3">SWES Reservation Module</h2>
        <ul class="nav nav-tabs">
          <li class="nav-item">
            <a class="nav-link active" href="#reservation"
              >Create Reservation</a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#equipment">Equipment & History</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#calendar">Calendar</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#email">Send Email</a>
          </li>
        </ul>
      </div>
    </header>

    <main>
      <!-- Section One -->
      <section class="py-4" id="reservation">
        <div class="container">
          <form class="row g-3">
            <div class="col-md-6">
              <label for="employeeID" class="form-label">Employee ID</label>
              <input
                type="text"
                class="form-control"
                id="employeeID"
                required
              />
            </div>

            <div class="col-md-6">
              <label for="gearSelectReservation" class="form-label"
                >Equipment</label
              >
              <select class="form-select" id="gearSelectReservation" required>
                <option value="">Select equipment</option>
                <option value="Boots">Boots</option>
                <option value="Vest">Vest</option>
                <option value="Helmet">Helmet</option>
              </select>
            </div>

            <div class="col-md-6">
              <label for="bookingDate" class="form-label"
                >Reservation Date</label
              >
              <input
                type="text"
                class="form-control"
                id="bookingDate"
                placeholder="Select date"
                required
              />
            </div>

            <div class="col-12">
              <button type="submit" class="btn btn-danger">Reserve</button>
            </div>
          </form>
        </div>
      </section>

      <section class="py-4 bg-light" id="equipment">
        <div class="container">
          <div class="row g-3 mb-3">
            <div class="col-md-3">
              <input
                type="text"
                id="searchInput"
                class="form-control"
                placeholder="Search by ID or equipment"
              />
            </div>
            <div class="col-md-2">
              <select id="gearSelectFilter" class="form-select">
                <option value="">All types</option>
                <option value="Boots">Boots</option>
                <option value="Vest">Vest</option>
                <option value="Helmet">Helmet</option>
              </select>
            </div>
            <div class="col-md-2">
              <input
                type="text"
                id="dateFrom"
                class="form-control"
                placeholder="From"
              />
            </div>
            <div class="col-md-2">
              <input
                type="text"
                id="dateTo"
                class="form-control"
                placeholder="To"
              />
            </div>
            <div class="col-md-2">
              <select id="statusSelect" class="form-select">
                <option value="">All statuses</option>
                <option value="Returned">Returned</option>
                <option value="Pending">Pending</option>
                <option value="Overdue">Overdue</option>
              </select>
            </div>
            <div class="col-md-1">
              <button id="searchButton" class="btn btn-primary w-100">
                Search
              </button>
            </div>
          </div>

          <div
            class="table-responsive"
            style="max-height: 300px; overflow-y: auto"
          >
            <table
              id="equipmentTable"
              class="table table-striped table-bordered mb-0"
            >
              <thead class="table-light">
                <tr>
                  <th>ID</th>
                  <th>Equipment</th>
                  <th>Status</th>
                  <th>Reservation Date</th>
                  <th>Return Date</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <div
              id="noDataMessage"
              class="text-center mt-2"
              style="display: none"
            >
              No data available
            </div>
          </div>
        </div>
      </section>

      <!-- Section Four -->
      <section class="py-4 bg-light" id="calendar">
        <div class="container">
          <div class="calendar-controls mb-3">
            <button id="prevMonth" class="btn btn-secondary">◀</button>
            <span id="currentMonth" class="fw-semibold mx-3"></span>
            <button id="nextMonth" class="btn btn-secondary">▶</button>
          </div>
          <div class="calendar-container">
            <table class="table table-bordered text-center">
              <thead class="table-light">
                <tr>
                  <th>Sun</th>
                  <th>Mon</th>
                  <th>Tue</th>
                  <th>Wed</th>
                  <th>Thu</th>
                  <th>Fri</th>
                  <th>Sat</th>
                </tr>
              </thead>
              <tbody id="calendarBody"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Section Five -->
      <section class="py-4" id="email">
        <div class="container">
          <form id="emailForm" class="row g-3">
            <div class="col-md-6">
              <label for="recipientEmail" class="form-label">Your Email</label>
              <input
                type="email"
                class="form-control"
                id="recipientEmail"
                placeholder="example@mail.com"
                required
              />
            </div>

            <div class="col-md-6">
              <label for="emailSubject" class="form-label">Subject</label>
              <input
                type="text"
                class="form-control"
                id="emailSubject"
                placeholder="Email subject"
                required
              />
            </div>

            <div class="col-12">
              <label for="emailMessage" class="form-label">Message</label>
              <textarea
                class="form-control"
                id="emailMessage"
                rows="5"
                placeholder="Your message..."
                required
              ></textarea>
            </div>

            <div class="col-12">
              <button type="submit" class="btn btn-primary">Send</button>
            </div>
          </form>
          <div id="emailFeedback" class="mt-3"></div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-3">
      <div class="container text-center">
        <p class="mb-0">© 2025 Vitalii Baranov</p>
      </div>
    </footer>
    <div id="loader" class="loader"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- Custom JS -->
    <script src="./custom.js" defer></script>

    <!-- Init Flatpickr -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Reservation date — NO past dates
        flatpickr("#bookingDate", {
          dateFormat: "Y-m-d",
          minDate: "today", // <-- block past dates
          allowInput: false, // <-- no manual typing of past dates
          disableMobile: true, // <-- force Flatpickr on iPhone
          theme: "material_blue",
        });

        // Filters — allow any dates
        flatpickr("#dateFrom", {
          dateFormat: "Y-m-d",
          allowInput: true,
          disableMobile: true,
          theme: "material_blue",
        });
        flatpickr("#dateTo", {
          dateFormat: "Y-m-d",
          allowInput: true,
          disableMobile: true,
          theme: "material_blue",
        });
      });
    </script>
  </body>
</html>
